{"ast":null,"code":"import _slicedToArray from\"/Users/joshpayne/Desktop/Ongoing Projects/Bank-Widgets/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback}from\"react\";import Card from\"react-bootstrap/Card\";import API from\"../../utils/API/apiRoutes\";import MortgageDataCard from\"../mortgageDataCard\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import Button from\"react-bootstrap/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Mortgage(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),rate=_useState2[0],setRate=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),downPayment=_useState4[0],setDownPayment=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),monthlyInterest=_useState6[0],setMonthlyInterest=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),monthlyPayment=_useState8[0],setMonthlyPayment=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),fixedRate=_useState10[0],setFixedRate=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),homeValue=_useState12[0],setHomeValue=_useState12[1];var _useState13=useState(\"primary\"),_useState14=_slicedToArray(_useState13,2),btn15=_useState14[0],setBtn15=_useState14[1];var _useState15=useState(\"secondary\"),_useState16=_slicedToArray(_useState15,2),btn30=_useState16[0],setBtn30=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),mortgageData=_useState18[0],setMortgageData=_useState18[1];var getRate=useCallback(function(){API.getRate().then(function(res){console.log(\"api call:\",res.data);setRate(res.data);setMonthlyInterest(res.data/100/12);},2000);},[]);useEffect(function(){getRate();},[getRate]);function calculateDownPayment(number){// factor down payment of 20%\nvar downPayment=number*.20;setDownPayment(downPayment);// setDownPayment(downPayment.toLocaleString())\nsetHomeValue(number);setMonthlyPayment(\"\");}var getPrice=function getPrice(){var data={homePrice:homeValue,downPayment:downPayment,interestRate:monthlyInterest,fixedRate:fixedRate};API.getPrice(data).then(function(res){console.log(res.data);setMortgageData(res.data);});};var maxLengthCheck=function maxLengthCheck(object){if(object.target.value.length>object.target.maxLength){object.target.value=object.target.value.slice(0,object.target.maxLength);}};function setRate15(number){setFixedRate(number);setBtn15(\"primary\");setBtn30(\"secondary\");}function setRate30(number){setFixedRate(number);setBtn15(\"secondary\");setBtn30(\"primary\");}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Row,{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card,{style:{width:\"18rem\"},children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Title,{children:[\"How much is the home you are looking to purchase?\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:function onChange(e){return calculateDownPayment(e.target.value);}})]}),/*#__PURE__*/_jsxs(Card.Title,{children:[\"Down Payment Percentage:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",maxLength:\"2\",onInput:maxLengthCheck,onChange:function onChange(e){return setDownPayment(e.target.value);}})]}),/*#__PURE__*/_jsxs(Card.Title,{children:[\"Fixed Rate Length:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:btn15,style:{margin:\"1rem\"},onClick:function onClick(){return setRate15(15);},children:\"15\"}),/*#__PURE__*/_jsx(Button,{variant:btn30,style:{margin:\"1rem\"},onClick:function onClick(){return setRate30(30);},children:\"30\"})]}),/*#__PURE__*/_jsxs(Card.Title,{children:[\"Monthly Payment: \",monthlyPayment]}),/*#__PURE__*/_jsx(\"button\",{onClick:getPrice,children:\"See Results\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Current Mortgage Rate: \",rate,\"%\"]})]})})}),/*#__PURE__*/_jsx(Col,{children:mortgageData&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(MortgageDataCard,{data:mortgageData})})})]})});}export default Mortgage;","map":{"version":3,"sources":["/Users/joshpayne/Desktop/Ongoing Projects/Bank-Widgets/client/src/components/mortgageAPI/index.js"],"names":["React","useState","useEffect","useCallback","Card","API","MortgageDataCard","Row","Col","Button","Mortgage","rate","setRate","downPayment","setDownPayment","monthlyInterest","setMonthlyInterest","monthlyPayment","setMonthlyPayment","fixedRate","setFixedRate","homeValue","setHomeValue","btn15","setBtn15","btn30","setBtn30","mortgageData","setMortgageData","getRate","then","res","console","log","data","calculateDownPayment","number","getPrice","homePrice","interestRate","maxLengthCheck","object","target","value","length","maxLength","slice","setRate15","setRate30","width","e","margin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\"\nimport Card from \"react-bootstrap/Card\";\nimport API from \"../../utils/API/apiRoutes\";\nimport MortgageDataCard from \"../mortgageDataCard\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\"\n\n\nfunction Mortgage() {\n\n\n\n    const [rate, setRate] = useState();\n    const [downPayment, setDownPayment] = useState();\n    const [monthlyInterest, setMonthlyInterest] = useState();\n    const [monthlyPayment, setMonthlyPayment] = useState();\n    const [fixedRate, setFixedRate] = useState();\n    const [homeValue, setHomeValue] = useState();\n    const [btn15, setBtn15] = useState(\"primary\");\n    const [btn30, setBtn30] = useState(\"secondary\");\n\n    const [mortgageData, setMortgageData] = useState();\n\n\n\n    const getRate = useCallback(() => {\n        API.getRate()\n            .then(res => {\n                console.log(\"api call:\", res.data)\n                setRate(res.data)\n                setMonthlyInterest(res.data / 100 / 12)\n            }, 2000)\n\n    }, [])\n\n    useEffect(() => {\n        getRate()\n    }, [getRate])\n\n\n    function calculateDownPayment(number) {\n        // factor down payment of 20%\n        let downPayment = number * .20\n        setDownPayment(downPayment)\n        // setDownPayment(downPayment.toLocaleString())\n        setHomeValue(number)\n        setMonthlyPayment(\"\")\n    }\n\n    const getPrice = () => {\n        const data = {\n            homePrice: homeValue,\n            downPayment: downPayment,\n            interestRate: monthlyInterest,\n            fixedRate: fixedRate\n        }\n        API.getPrice(data)\n            .then(res => {\n                console.log(res.data)\n                setMortgageData(res.data)\n            })\n\n    }\n\n    const maxLengthCheck = (object) => {\n        if (object.target.value.length > object.target.maxLength) {\n            object.target.value = object.target.value.slice(0, object.target.maxLength)\n        }\n    }\n\n\n    function setRate15(number) {\n        setFixedRate(number)\n        setBtn15(\"primary\")\n        setBtn30(\"secondary\")\n    }\n\n    function setRate30(number) {\n        setFixedRate(number)\n        setBtn15(\"secondary\")\n        setBtn30(\"primary\")\n    }\n\n    return (\n        <>\n        <Row className=\"d-flex justify-content-between\">\n            <Col>\n            \n            <Card style={{ width: \"18rem\" }}>\n\n                <Card.Body>\n                    <Card.Title>\n                        How much is the home you are looking to purchase?\n                        <input type=\"number\" onChange={(e) => calculateDownPayment(e.target.value)}></input>\n\n\n\n                    </Card.Title>\n                    <Card.Title>\n                        Down Payment Percentage:\n                        <input type=\"number\" maxLength=\"2\" onInput={maxLengthCheck} onChange={(e) => setDownPayment(e.target.value)}></input>\n\n                    </Card.Title>\n                    <Card.Title>\n                        Fixed Rate Length:\n<br></br>\n                        <Button variant={btn15} style={{margin: \"1rem\"}} onClick={() => setRate15(15)}>15</Button>\n\n                        <Button variant={btn30} style={{margin: \"1rem\"}} onClick={() => setRate30(30)}>30</Button>\n\n                    </Card.Title>\n                    <Card.Title>\n                        Monthly Payment: {monthlyPayment}\n\n                    </Card.Title>\n\n                    <button onClick={getPrice}>See Results</button>\n\n                    <p>Current Mortgage Rate: {rate}%</p>\n\n                    </Card.Body>\n            </Card>\n            </Col>\n            <Col>\n                    {\n                        mortgageData &&\n                        <>\n                        <MortgageDataCard data={mortgageData} />\n                        </>\n\n                    }\n            \n            </Col>\n\n        </Row>\n\n                \n\n        </>\n    )\n}\n\nexport default Mortgage"]},"metadata":{},"sourceType":"module"}